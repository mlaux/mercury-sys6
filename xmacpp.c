#include <MacTCP.h>#include <stdio.h>#include <stdlib.h>#include "tcp.h"int main(void){	long google_ip;	StreamPtr my_stream;	OSErr connect_err;	const char *str = "NICK test___\r\nUSER test123 * * :test\r\n";	unsigned short len = strlen(str);		printf("Hello!\n");	tcp_init();	printf("Called tcp_init\n");	dns_init(NULL);	printf("called dns_init\n");	google_ip = dns_lookup("irc.rizon.net");	printf("rizon ip is %s\n", dns_format_ip(google_ip));		my_stream = tcp_create_stream();	printf("got stream %d\n", my_stream);		connect_err = tcp_connect(my_stream, google_ip, 6667);	printf("connected - osErr was %d\n", connect_err);		connect_err = tcp_write(my_stream, str, len); 	printf("sent %d bytes - osErr was %d\n", len, connect_err);		while(1) {		if(tcp_available(my_stream) > 0) {			char buf[512];			len = 511;			connect_err = tcp_read(my_stream, buf, &len);			printf("--- read %d bytes\n", len);			buf[len] = 0;			printf("%s\n", buf);			break;		}	}		tcp_release_stream(my_stream);	printf("released\n");	tcp_cleanup();	dns_cleanup();	printf("called dns_cleanup\n");	return 0;}